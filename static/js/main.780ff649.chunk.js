(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var r=n(55),s=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"e8349719-ae81-4d3f-972e-206990f2d8c6"}}),i={getUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},getSubscription:function(t){return s.post("follow/".concat(t)).then((function(t){return t.data.resultCode}))},deleteSubscription:function(t){return s.delete("follow/".concat(t)).then((function(t){return t.data.resultCode}))},getUserProfile:function(t){return console.log("Obsolete API. Use profileAPI.getUserProfile instead"),a.getUserProfile(t)}},a={getUserProfile:function(t){return s.get("profile/".concat(t)).then((function(t){return t.data}))},getUserStatus:function(t){return s.get("/profile/status/".concat(t)).then((function(t){return t.data}))},updateUserStatus:function(t){return s.put("/profile/status",{status:t}).then((function(t){return t.data}))}},c={getLoginData:function(){return s.get("auth/me").then((function(t){return t}))}},o={signInData:function(t){return s.post("auth/login",{email:t.login,password:t.password,rememberMe:t.remember_me[0]}).then((function(t){return t}))},signOutData:function(){return s.delete("auth/login").then((function(t){return t}))}}},20:function(t,e,n){"use strict";var r=n(0),s=(n(1),n.p+"static/media/preload_t.dff2016a.svg");e.a=function(t){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:s,style:{display:"block",margin:"auto",width:"auto"}})," "]})}},21:function(t,e,n){t.exports={sidebar:"Sidebar_sidebar__CBR0H",item:"Sidebar_item__3G5gv",activeLink:"Sidebar_activeLink__mTiUR",sidebar_friends:"Sidebar_sidebar_friends__1nYhp"}},27:function(t,e,n){t.exports={header:"Header_header__2A2U5",block1:"Header_block1__3C0z6",block2:"Header_block2__3Y1ve"}},30:function(t,e,n){t.exports={main:"ProfileStatus_main__VsPGW"}},31:function(t,e,n){t.exports={transparent:"Login_transparent__apOn6",form_inner:"Login_form_inner__3LJ3v",custom_checkbox:"Login_custom_checkbox__3Ub4y",form_control:"Login_form_control__1E6xy",error:"Login_error__2grF6",input:"Login_input__3XbcK",failed_sing_in:"Login_failed_sing_in__TLrhc"}},35:function(t,e,n){t.exports={friendsblock:"Friends_friendsblock__kVztg",imageClass:"Friends_imageClass__19BXr"}},39:function(t,e,n){t.exports={post:"Post_post__2YV98",postitem:"Post_postitem__25kxH"}},40:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(2),s=n(12),i=n(13),a=n(15),c=n(14),o=n(0),u=n(1),l=n.n(u),d=n(7),p=n(4),j=function(t){return{isAuthorized:t.auth.data.isAuth}},b=function(t){var e=function(e){Object(a.a)(u,e);var n=Object(c.a)(u);function u(){return Object(s.a)(this,u),n.apply(this,arguments)}return Object(i.a)(u,[{key:"render",value:function(){return this.props.isAuthorized?Object(o.jsx)(t,Object(r.a)({},this.props)):Object(o.jsx)(p.a,{to:"/login"})}}]),u}(l.a.Component);return Object(d.b)(j)(e)}},50:function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var r=n(22),s=n(2),i="add_message",a={dialog:[{name:"Maria",id:"/1",src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg"},{name:"Nelii",id:"/2",src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg"},{name:"Vova",id:"/3",src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg"},{name:"Volodja",id:"/4",src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg"},{name:"Kostja",id:"/5",src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg"}],messag:[{mess:"Hi"},{mess:"Hello"},{mess:"How are you"},{mess:"I am fine"}]},c=function(t){return function(e){e(function(t){return{type:i,message:t}}(t))}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i:t.updatedTextArea;return Object(s.a)(Object(s.a)({},t),{},{messag:[].concat(Object(r.a)(t.messag),[{mess:e.message}])});default:return t}}},51:function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return v})),n.d(e,"f",(function(){return _})),n.d(e,"e",(function(){return y}));var r=n(6),s=n.n(r),i=n(16),a=n(22),c=n(2),o=n(17),u="follow",l="unfollow",d="set_users",p="set_current_page",j="setTotalUsersCount",b="toggle_is_loading",f="while_subscription_is_being_processed",h={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isLoading:!1,subscriptionProcessed:[]},O=function(t){return{type:b,isloading:t}},g=function(t,e){return{type:f,being_processed:t,id:e}},m=function(t){return{type:p,currentPage:t}},x=function(t){return{type:j,totalUsersCount:t}},v=function(t,e){return function(){var n=Object(i.a)(s.a.mark((function n(r){var i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(O(!0)),n.next=3,o.d.getUsers(t,e);case 3:i=n.sent,r(O(!1)),r((s=i.items,{type:d,users:s})),r(m(t)),r(x(i.totalCount));case 8:case"end":return n.stop()}var s}),n)})));return function(t){return n.apply(this,arguments)}}()},_=function(t){return function(){var e=Object(i.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(g(!0,t)),e.next=3,o.d.deleteSubscription(t);case 3:0===e.sent&&n({type:l,userId:t}),n(g(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(t){return function(){var e=Object(i.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(g(!0,t)),e.next=3,o.d.getSubscription(t);case 3:0===e.sent&&n({type:u,userId:t}),n(g(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(c.a)(Object(c.a)({},t),{},{users:t.users.map((function(t){return t.id===e.userId?Object(c.a)(Object(c.a)({},t),{},{followed:!0}):t}))});case l:return Object(c.a)(Object(c.a)({},t),{},{users:t.users.map((function(t){return t.id===e.userId?Object(c.a)(Object(c.a)({},t),{},{followed:!1}):t}))});case p:return Object(c.a)(Object(c.a)({},t),{},{currentPage:e.currentPage});case d:return Object(c.a)(Object(c.a)({},t),{},{users:e.users});case j:return Object(c.a)(Object(c.a)({},t),{},{totalUsersCount:e.totalUsersCount});case b:return Object(c.a)(Object(c.a)({},t),{},{isLoading:e.isloading});case f:return Object(c.a)(Object(c.a)({},t),{},{subscriptionProcessed:e.being_processed?[].concat(Object(a.a)(t.subscriptionProcessed),[e.id]):Object(a.a)(t.subscriptionProcessed.filter((function(t){return t!==e.id})))});default:return t}}},52:function(t,e,n){t.exports={App:"App_App__2qkLW"}},53:function(t,e,n){t.exports={footer:"Footer_footer__3k58y"}},54:function(t,e,n){t.exports={profile:"Content_profile__1VWBj"}},56:function(t,e,n){t.exports={content:"MyPosts_content__2dSc3"}},59:function(t,e,n){t.exports={imgClass:"ProfileInfo_imgClass__YUukC",main:"ProfileInfo_main__2O8T9"}},66:function(t,e,n){},95:function(t,e,n){"use strict";n.r(e),n.d(e,"rerenderEntireTree",(function(){return $t}));var r=n(0),s=n(1),i=n.n(s),a=n(28),c=n.n(a),o=(n(66),function(t){t&&t instanceof Function&&n.e(5).then(n.bind(null,99)).then((function(e){var n=e.getCLS,r=e.getFID,s=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),r(t),s(t),i(t),a(t)}))}),u=n(12),l=n(13),d=n(15),p=n(14),j=n(52),b=n.n(j),f=n(53),h=n.n(f),O=function(){return Object(r.jsx)("div",{className:h.a.footer,children:"Footer"})},g=n(11),m=n(21),x=n.n(m),v=n(35),_=n.n(v),y=function(t){var e=t.friends.map((function(t){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:_.a.imageClass,src:t.src}),Object(r.jsx)(g.b,{to:"/#",children:t.name})]})}));return Object(r.jsxs)("div",{className:x.a.sidebar_friends,children:[Object(r.jsx)("h2",{children:"Friends"}),Object(r.jsx)("div",{className:_.a.friendsblock,children:e})]})},k=function(t){var e=t.sidebar.map((function(t){return Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)(g.b,{to:t.path,activeClassName:x.a.activeLink,children:t.name})})}));return Object(r.jsx)("div",{className:x.a.sidebar,children:e})},w=function(t){return Object(r.jsxs)("div",{className:x.a.sidebar,children:[Object(r.jsx)(k,{sidebar:t.state.sidebarPage.sideb}),Object(r.jsx)(y,{friends:t.state.sidebarPage.friends})]})},S=function(){return Object(r.jsx)("div",{children:"Music"})},P=function(){return Object(r.jsx)("div",{children:"News"})},C=n(4),U=n(2),L=n(54),F=n.n(L),A=n(6),N=n.n(A),I=n(16),M=n(22),z=n(17),D="add_post",E="setUserProfile",T="page_is_loading",R="user_status_update",H="set_user_status",K="delete_post",V={posts:[{post:"Hello",id:1},{post:"how are you",id:2},{post:"i am fine",id:3},{post:"i am fine",id:4},{post:"i am fine",id:5}],profile:null,isFetching:!1,status:"My dream is to become a good Frontend Developer"},B=function(t){return{type:T,isLoading:t}},Y=function(t){return{type:R,status:t}},J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case D:return Object(U.a)(Object(U.a)({},t),{},{posts:[].concat(Object(M.a)(t.posts),[{post:e.new_post,id:6}])});case K:return Object(U.a)(Object(U.a)({},t),{},{posts:Object(M.a)(t.posts.filter((function(t){return t.id!=e.id})))});case E:return Object(U.a)(Object(U.a)({},t),{},{profile:e.profile});case T:return Object(U.a)(Object(U.a)({},t),{},{isFetching:e.isLoading});case R:case H:return Object(U.a)(Object(U.a)({},t),{},{status:e.status});default:return t}},W=n(56),q=n.n(W),X=n(23),G=n(7),Q=function(t){return Object(r.jsx)("div",{children:Object(r.jsx)(X.b,{onSubmit:function(e){t.onSubmitForm(e.new_post)},keepDirtyOnReinitialize:!0,validate:function(t){var e={};return t.new_post||(e.new_post="Required"),e},render:function(t){var e=t.handleSubmit,n=t.form;return Object(r.jsx)("form",{onSubmit:function(t){var r=e(t);return r&&r.then((function(){n.setConfig("keepDirtyOnReinitialize",!1),n.reset(),n.setConfig("keepDirtyOnReinitialize",!0)})),r},children:Object(r.jsxs)("div",{children:[Object(r.jsx)(X.a,{name:"new_post",children:function(t){var e=t.input;t.meta;return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{}),Object(r.jsx)("input",Object(U.a)(Object(U.a)({},e),{},{type:"text",placeholder:"Your new post"}))]})}}),Object(r.jsx)("input",{name:"submit",type:"submit",value:"Send"})]})})}})})},Z=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).onSubmitForm=function(e){t.props.addNewPost(e)},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(Q,{onSubmitForm:this.onSubmitForm})})}}]),n}(i.a.Component),$=Object(G.b)((function(t){}),{addNewPost:function(t){return function(e){e({type:D,new_post:t})}}})(Z),tt=n(39),et=n.n(tt),nt=function(t){return Object(r.jsxs)("div",{className:et.a.postitem,children:[Object(r.jsx)("img",{src:"https://static.thenounproject.com/png/31505-200.png"}),Object(r.jsx)("div",{className:et.a.post,children:t.message}),Object(r.jsx)("span",{children:"Like"})]})},rt=i.a.memo((function(t){console.log("render");var e=t.profilePage.posts.map((function(t){return Object(r.jsx)(nt,{message:t.post})}));return Object(r.jsxs)("div",{className:q.a.content,children:[Object(r.jsx)("div",{children:Object(r.jsx)("h3",{children:"My Posts"})}),Object(r.jsx)($,{}),e]})})),st=Object(G.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{}}))(rt),it=n(20),at=n(30),ct=n.n(at),ot=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={editMode:!1,status:t.props.status},t}return Object(l.a)(n,[{key:"activateEditMode",value:function(){this.setState({editMode:!0})}},{key:"deactivateEditMode",value:function(){this.setState({editMode:!1}),this.props.updateUserStatus(this.state.status)}},{key:"handleKey",value:function(t){13!==t.charCode&&13!==t.keyCode||this.deactivateEditMode()}},{key:"updateInputArea",value:function(t){this.setState({status:t.target.value})}},{key:"componentDidUpdate",value:function(t,e,n){this.props.status!=t.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(r.jsx)("div",{className:ct.a.main,children:this.state.editMode?Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:Object(r.jsx)("input",{onChange:this.updateInputArea.bind(this),autoFocus:"true",onKeyPress:this.handleKey.bind(this),onBlur:this.deactivateEditMode.bind(this),type:"text",maxlength:"300",value:this.state.status})})}):Object(r.jsx)("div",{children:Object(r.jsx)("p",{onDoubleClick:this.activateEditMode.bind(this),children:this.props.status||"Enter your status"})})})}}]),n}(i.a.Component),ut=n(59),lt=n.n(ut),dt=n(34),pt=function(t){var e=Object(s.useState)(!1),n=Object(dt.a)(e,2),i=n[0],a=n[1],c=Object(s.useState)(t.status),o=Object(dt.a)(c,2),u=o[0],l=o[1];Object(s.useEffect)((function(){l(t.status)}),[t.status]);var d=function(){a(!1),t.updateUserStatus(u)};return Object(r.jsx)("div",{className:ct.a.main,children:i?Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:Object(r.jsx)("input",{onChange:function(t){l(t.target.value)},autoFocus:"true",onKeyPress:function(t){13!==t.charCode&&13!==t.keyCode||d()},onBlur:d,type:"text",maxlength:"300",value:u})})}):Object(r.jsxs)("div",{children:[" ",Object(r.jsx)("p",{onDoubleClick:function(){a(!0)},children:t.status||"Enter your status"})]})})},jt=function(t){if(!t.profile)return Object(r.jsx)(it.a,{});return Object(r.jsxs)("div",{className:lt.a.main,children:[Object(r.jsx)("div",{children:t.profile.fullName}),Object(r.jsx)("div",{children:Object(r.jsx)("img",{style:{width:"15%"},title:"userPhoto",alt:"userPhoto",src:t.profile.photos.small})}),Object(r.jsx)(ot,{status:t.status,updateUserStatus:t.updateUserStatus}),Object(r.jsx)(pt,{status:t.status,updateUserStatus:t.updateUserStatus}),Object(r.jsx)("div",{children:t.profile.aboutMe}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:(t.profile.lookingForAJob,null)}),Object(r.jsx)("span",{children:t.profile.lookingForAJobDescription})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h5",{children:"Contacts"}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["Facebook: ",t.profile.contacts.facebook]}),Object(r.jsxs)("li",{children:["Github: ",t.profile.contacts.github]}),Object(r.jsxs)("li",{children:["Instagram: ",t.profile.contacts.instagram]}),Object(r.jsxs)("li",{children:["MainLink: ",t.profile.contacts.mainLink]}),Object(r.jsxs)("li",{children:["Twitter: ",t.profile.contacts.twitter]}),Object(r.jsxs)("li",{children:["VK: ",t.profile.contacts.vk]}),Object(r.jsxs)("li",{children:["Website: ",t.profile.contacts.website]}),Object(r.jsxs)("li",{children:["Youtube: ",t.profile.contacts.youtube]})]})]})]})},bt=function(t){return Object(r.jsxs)("div",{className:F.a.profile,children:[Object(r.jsx)(jt,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),Object(r.jsx)(st,{store:t.store})]})},ft=n(40),ht=n(19),Ot=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;!t&&this.props.isAuth&&(t=this.props.authorized_userId),this.props.getUserProfile(t),this.props.getCurrentUserStatus(t)}},{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(bt,Object(U.a)(Object(U.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))})}}]),n}(i.a.Component),gt=Object(ht.d)(Object(G.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorized_userId:t.auth.data.userId,isAuth:t.auth.data.isAuth}}),{getUserProfile:function(t){return function(){var e=Object(I.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(B(!0)),e.next=3,z.d.getUserProfile(t);case 3:r=e.sent,n(B(!1)),n({type:E,profile:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateUserStatus:function(t){return function(){var e=Object(I.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.c.updateUserStatus(t);case 2:0===e.sent.resultCode&&n(Y(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getCurrentUserStatus:function(t){return function(){var e=Object(I.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.c.getUserStatus(t);case 2:r=e.sent,n({type:H,status:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),C.f,ft.a)(Ot),mt=n(27),xt=n.n(mt),vt=function(t){return Object(r.jsxs)("div",{className:xt.a.header,children:[Object(r.jsx)("div",{className:xt.a.block1,children:Object(r.jsx)("img",{src:"https://image.freepik.com/free-vector/abstract-people-logo_23-2147493307.jpg"})}),Object(r.jsx)("div",{className:xt.a.block2,children:t.isAuthorized?Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Logged in as ",t.login," ",Object(r.jsx)("button",{onClick:t.singOutLogin,children:"Sign Out"})," "]})}):Object(r.jsx)(g.b,{className:xt.a.linkstyle,to:"/login",children:"Login"})})]})},_t="set_user_auth_state",yt="toggle_is_loading_login",kt="signing_in",wt="log_fail",St={data:{userId:null,email:null,login:null,isAuth:!1},isFetching:!1,login_failed:null},Pt=function(t,e,n,r,s){return{type:_t,payload:{userId:t,email:e,login:n,isAuth:r,login_failed:s}}},Ct=function(t){return{type:yt,isFetching:t}},Ut=function(){return function(){var t=Object(I.a)(N.a.mark((function t(e){var n,r,s,i,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Ct(!0)),t.next=3,z.a.getLoginData();case 3:n=t.sent,e(Ct(!1)),0===n.data.resultCode?(r=n.data.data,s=r.id,i=r.email,a=r.login,e(Pt(s,i,a,!0,!1))):console.log("error no login");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _t:return Object(U.a)(Object(U.a)({},t),{},{data:Object(U.a)({},e.payload),login_failed:e.login_failed});case yt:return Object(U.a)(Object(U.a)({},t),{},{isFetching:e.isFetching});case kt:return Object(U.a)(Object(U.a)({},t),{},{loginId:e.userId});case wt:return Object(U.a)(Object(U.a)({},t),{},{login_failed:e.login_failed});default:return t}},Ft=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.props.isFetching?Object(r.jsx)(it.a,{}):Object(r.jsx)(vt,Object(U.a)({},this.props))})}}]),n}(i.a.Component),At=Object(G.b)((function(t){return{login:t.auth.data.login,isFetching:t.auth.isFetching,isAuthorized:t.auth.data.isAuth}}),{singOutLogin:function(){return function(){var t=Object(I.a)(N.a.mark((function t(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.b.signOutData();case 2:0===t.sent.data.resultCode?e(Pt(null,null,null,!1,null)):(alert("No sign out"),console.log("no sign out"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Ft),Nt=n(31),It=n.n(Nt),Mt=function(t){return Object(r.jsx)(X.b,{onSubmit:function(e){t.onSubmitForm(e)},validate:function(t){var e={};return t.login||(e.login="Required"),t.password||(e.password="Required"),e},render:function(e){var n=e.handleSubmit;e.form,e.meta,e.submitting,e.pristine,e.values;return Object(r.jsx)("form",{onSubmit:n,className:It.a.transparent,children:Object(r.jsxs)("div",{className:It.a.form_inner,children:[Object(r.jsx)("h3",{children:"Sign In"}),t.login_failed?Object(r.jsx)("p",{className:It.a.failed_sing_in,children:"Sign in failed. Wrong E-Mail or password"}):null,Object(r.jsx)(X.a,{name:"login",children:function(t){var e=t.input,n=t.meta;return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Login"}),n.error&&n.touched&&Object(r.jsx)("span",{children:n.error}),Object(r.jsx)("input",Object(U.a)(Object(U.a)({},e),{},{type:"text",placeholder:"Login"}))]})}}),Object(r.jsx)(X.a,{name:"password",children:function(t){var e=t.input,n=t.meta;return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Password"}),n.error&&n.touched&&Object(r.jsx)("span",{children:n.error}),Object(r.jsx)("input",Object(U.a)(Object(U.a)({},e),{},{type:"password",placeholder:"Password"}))]})}}),Object(r.jsxs)("label",{children:[Object(r.jsx)(X.a,{name:"remember_me",component:"input",type:"checkbox",value:!0,id:"custom_checkbox"})," ","remember me"]}),Object(r.jsx)("input",{name:"submit",type:"submit",value:"submit"})]})})}})},zt=Object(G.b)((function(t){return{isAuth:t.auth.data.isAuth,login_failed:t.auth.login_failed}}),{singInLogin:function(t){return function(){var e=Object(I.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.remember_me||(t=Object(U.a)(Object(U.a)({},t),{},{remember_me:!1})),e.next=3,z.b.signInData(t);case 3:0===e.sent.data.resultCode?n(Ut()):n({type:wt,login_failed:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(t){return t.isAuth?Object(r.jsx)(C.a,{from:"/login",to:"/profile"}):Object(r.jsx)("div",{children:Object(r.jsx)(Mt,{onSubmitForm:function(e){t.singInLogin(e)},login_failed:t.login_failed})})})),Dt="init_app",Et={initialized:!1},Tt=n(50),Rt={sideb:[{path:"/profile",name:"Profile"},{path:"/messages",name:"Messages"},{path:"/news",name:"News"},{path:"/music",name:"Music"},{path:"/settings",name:"Settings"},{path:"/users",name:"Find more friends"}],friends:[{src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg",name:"Maria"},{src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg",name:"Julia"},{src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/03/29/avatarka.jpg",name:"Katja"}]},Ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return t},Kt=n(51),Vt=n(60),Bt=Object(ht.c)({profilePage:J,messagesPage:Tt.a,sidebarPage:Ht,usersPage:Kt.a,auth:Lt,appMain:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Dt:return Object(U.a)(Object(U.a)({},t),{},{initialized:!0});default:return t}}}),Yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ht.d,Jt=Object(ht.e)(Bt,Yt(Object(ht.a)(Vt.a)));window.store=Jt;var Wt=Jt,qt=i.a.lazy((function(){return n.e(3).then(n.bind(null,101))})),Xt=i.a.lazy((function(){return n.e(4).then(n.bind(null,100))})),Gt=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).componentDidMount=function(){t.props.initialization_App()},t}return Object(l.a)(n,[{key:"render",value:function(){return this.props.initialized_app?Object(r.jsxs)("div",{className:b.a.App,children:[Object(r.jsx)(At,{}),Object(r.jsx)(w,{state:this.props.state}),Object(r.jsx)(C.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(gt,{})}}),Object(r.jsx)(C.b,{path:"/news",render:function(){return Object(r.jsx)(P,{})}}),Object(r.jsx)(C.b,{path:"/music",render:function(){return Object(r.jsx)(S,{})}}),Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(it.a,{}),children:Object(r.jsx)(C.b,{path:"/users",render:function(){return Object(r.jsx)(Xt,{})}})}),Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(it.a,{}),children:Object(r.jsx)(C.b,{path:"/messages",render:function(){return Object(r.jsx)(qt,{})}})}),Object(r.jsx)(C.b,{path:"/login",render:function(){return Object(r.jsx)(zt,{})}}),Object(r.jsx)(O,{})]}):Object(r.jsx)(it.a,{})}}]),n}(i.a.Component),Qt=Object(ht.d)(C.f,Object(G.b)((function(t){return{state:t,initialized_app:t.appMain.initialized}}),{initialization_App:function(){return function(t){var e=t(Ut());Promise.all([e]).then((function(){t({type:Dt})}))}}}))(Gt),Zt=function(t){return Object(r.jsx)(g.a,{children:Object(r.jsx)(G.a,{store:Wt,children:Object(r.jsx)(Qt,{})})})},$t=function(){c.a.render(Object(r.jsx)(Zt,{}),document.getElementById("root")),o()};$t()}},[[95,1,2]]]);
//# sourceMappingURL=main.780ff649.chunk.js.map