{"version":3,"sources":["assets/images/user.png","redux/selectors.js","components/Users/Paginator.js","components/Users/Users.js","components/Users/Users_Container.js","components/Users/Users.module.css"],"names":["requestUsers","state","usersPage","usersPageSize","pageSize","totUsersCount","totalUsersCount","requestPage","currentPage","pageLoading","isLoading","subscriptionConfirm","subscriptionProcessed","Paginator","props","pages","Math","ceil","pagesArray","i","push","className","s","button_style","type","onClick","event","onBtnPageClick","aria-hidden","selected","Users","users_style","users","map","u","each_user","info_block","info_one","logo","to","id","alt","img_class","src","photos","small","userPhoto","followed","disabled","some","btn_foll","unsubscribe","subscribe","link_style","name","lastname","status","country_city","country","city","UsersApiComponent","p","getUsers","this","Preloader","setCurrentPageUsers","setTotalUsersCount","React","Component","compose","connect","withAuthRedirectComponent","module","exports"],"mappings":"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","file":"static/js/4.24630206.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.10691648.png\";","\r\n\r\nexport const requestUsers = (state) => {\r\n    return state.usersPage\r\n}\r\n\r\nexport const usersPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const totUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const requestPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const pageLoading = (state) => {\r\n    return state.usersPage.isLoading;\r\n}\r\n\r\nexport const subscriptionConfirm = (state) => {\r\n    return state.usersPage.subscriptionProcessed;\r\n}","import React from \"react\";\r\nimport {totUsersCount} from \"../../redux/selectors\";\r\nimport s from \"./Users.module.css\";\r\n\r\n\r\nlet Paginator = (props) => {\r\n    let pages = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pagesArray = [];\r\n    for (let i = 1; i < pages; i++) {\r\n        pagesArray.push(i);\r\n    }\r\n    return (\r\n        <div className={s.button_style}>\r\n            {props.currentPage === 1 ? null : <button type=\"button\" onClick={(event) => {\r\n                props.onBtnPageClick(1)\r\n            }}>\r\n\r\n                <i className=\"fa fa-angle-double-left\" aria-hidden=\"true\"></i></button>}\r\n            {props.currentPage <= 1 ? null : <button type=\"button\" onClick={(event) => {\r\n                props.onBtnPageClick(props.currentPage - 1)\r\n            }} className={(props.currentPage - 1) === props.currentPage && s.selected}>{props.currentPage - 1}</button>}\r\n\r\n            <button type=\"button\" onClick={(event) => {\r\n                props.onBtnPageClick(props.currentPage)\r\n            }} className={s.selected}>{props.currentPage}</button>\r\n            {props.currentPage === pages ? null : <button type=\"button\" onClick={(event) => {\r\n                props.onBtnPageClick(props.currentPage + 1)\r\n            }} className={(props.currentPage + 1) === props.currentPage && s.selected}>{props.currentPage + 1}</button>}\r\n\r\n            {props.currentPage === pages ? null : <button type=\"button\" onClick={(event) => {\r\n                props.onBtnPageClick(pages)\r\n            }}>\r\n\r\n                <i className=\"fa fa-angle-double-right\" aria-hidden=\"true\"></i></button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"./Paginator\";\r\nimport PaginatorVersionTwo from \"./PaginatorVersionTwo\";\r\n\r\nconst Users = (props) => {\r\n    let pages = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pagesArray = [];\r\n    for (let i = 1; i < pages; i++) {\r\n        pagesArray.push(i);\r\n    }\r\n    return (\r\n        <div className={s.users_style}>\r\n            <div>\r\n                {props.usersPage.users.map(u => <div className={s.each_user}>\r\n\r\n                    <div className={s.info_block}>\r\n                        <div className={s.info_one}>\r\n                            <div className={s.logo}><div>\r\n                                <NavLink to={'/profile/' + u.id}>\r\n                                    <img alt=\"users avatar\" className={s.img_class} src={u.photos.small != null ? u.photos.small : userPhoto}></img>\r\n                                </NavLink>\r\n                            </div>\r\n                                {u.followed ?\r\n                                    <button disabled={props.subscriptionProcessed.some(id => id===u.id) } className={s.btn_foll} onClick={() => {\r\n                                        props.unsubscribe(u.id);}} type=\"button\">Unfollow</button> :\r\n                                    <button disabled={props.subscriptionProcessed.some(id => id===u.id) } className={s.btn_foll} onClick={() => {\r\n                                        props.subscribe(u.id);}} type=\"button\">Follow</button>}\r\n                            </div>\r\n                            <div>\r\n                                <NavLink className={s.link_style} to={'/profile/' + u.id}>{u.name}, {u.lastname}</NavLink>\r\n                                <div>{u.status}</div>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                        <div className={s.country_city}>{u.country} {u.city}</div>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>)}\r\n            </div>\r\n\r\n            <div className={s.button_style}>\r\n                <Paginator totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} onBtnPageClick={props.onBtnPageClick}\r\n                           currentPage={props.currentPage} />\r\n            </div>\r\n           {/* <div className={s.button_style}>\r\n                <PaginatorVersionTwo totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} onBtnPageClick={props.onBtnPageClick}\r\n                                     currentPage={props.currentPage}/></div>*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users; ","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getUsers, subscribe, unsubscribe, setCurrentPageUsers, setTotalUsersCount} from \"../../redux/usersReducer\";\r\nimport Users from './Users';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirectComponent } from '../Redirect/withAuthRedirectComponent';\r\nimport {\r\n    pageLoading,\r\n    requestPage,\r\n    requestUsers,\r\n   subscriptionConfirm,\r\n    totUsersCount,\r\n    usersPageSize\r\n} from \"../../redux/selectors\";\r\n\r\n\r\nclass UsersApiComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize); \r\n\r\n    }\r\n    onBtnPageClick = (p) => {\r\n        this.props.getUsers(p, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <div>{this.props.isLoading ? <Preloader /> : \r\n            <Users \r\n            usersPage={this.props.usersPage}\r\n            pageSize={this.props.pageSize} \r\n            totalUsersCount={this.props.totalUsersCount} \r\n            currentPage={this.props.currentPage} \r\n            subscribe={this.props.subscribe}\r\n            unsubscribe={this.props.unsubscribe}\r\n            onBtnPageClick={this.onBtnPageClick} \r\n            setCurrentPageUsers={this.props.setCurrentPageUsers}\r\n            setTotalUsersCount={this.props.setTotalUsersCount}\r\n            subscriptionProcessed={this.props.subscriptionProcessed}\r\n            />}\r\n            </div>\r\n        </>\r\n    }\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        usersPage: requestUsers(state),\r\n        pageSize: usersPageSize(state),\r\n        totalUsersCount: totUsersCount(state),\r\n        currentPage: requestPage(state),\r\n        isLoading: pageLoading(state),\r\n        subscriptionProcessed : subscriptionConfirm(state)\r\n    }\r\n}\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userID) => { dispatch(followAC(userID)); },\r\n//         unfollow: (userID) => { dispatch(unfollowAC(userID)) },\r\n//         setUsers: (users) => { dispatch(setUsersAC(users)) },\r\n//         setCurrentPageUsers: (pageNumber) => { dispatch(setCurrentPageAC(pageNumber)) },\r\n//         setTotalUsersCount: (totalcount) => { dispatch(setTotalUsersCountAC(totalcount)) },\r\n//         toggleIsLoading: (isloading) => {dispatch(isLoadingAC(isloading))}\r\n//     }\r\n// }\r\n\r\n\r\nexport default compose( connect(mapStateToProps, {\r\n    getUsers,\r\n    subscribe,\r\n    unsubscribe,\r\n    setCurrentPageUsers, setTotalUsersCount\r\n}), withAuthRedirectComponent)(UsersApiComponent);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_style\":\"Users_users_style__38Tdh\",\"button_style\":\"Users_button_style__3ZgWn\",\"btn_foll\":\"Users_btn_foll__1w8hj\",\"each_user\":\"Users_each_user__3ZwnW\",\"info_block\":\"Users_info_block__jQMkg\",\"logo\":\"Users_logo__2QLYf\",\"country_city\":\"Users_country_city__2_-u_\",\"info_one\":\"Users_info_one__NXQvK\",\"selected\":\"Users_selected__1-S-L\",\"link_style\":\"Users_link_style__2L_s0\"};"],"sourceRoot":""}